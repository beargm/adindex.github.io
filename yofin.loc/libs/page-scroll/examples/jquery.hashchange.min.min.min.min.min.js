(function(q,i,t){function r(b){b=b||location.href;return"#"+b.replace(/^[^#]*#?(.*)$/,"$1")}var e="hashchange",s=document,f,a=q.event.special,n=s.documentMode,o="on"+e in i&&(n===t||n>7);q.fn[e]=function(b){return b?this.bind(e,b):this.trigger(e)};q.fn[e].delay=50;a[e]=q.extend(a[e],{setup:function(){if(o){return false}q(f.start)},teardown:function(){if(o){return false}q(f.stop)}});f=function(){function j(){var p=r(),m=c(g);if(p!==g){d(g=p,m);q(i).trigger(e)}else{if(m!==g){location.href=location.href.replace(/#.*/,"")+m}}k=setTimeout(j,q.fn[e].delay)}var h={},k,g=r(),b=function(m){return m},d=b,c=b;h.start=function(){k||j()};h.stop=function(){k&&clearTimeout(k);k=t};var l=function(){var m,w=3,x=document.createElement("div"),p=x.getElementsByTagName("i");while(x.innerHTML="<!--[if gt IE "+ ++w+"]><i></i><![endif]-->",p[0]){}return w>4?w:m}();l&&!o&&function(){var m,p;h.start=function(){if(!m){p=q.fn[e].src;p=p&&p+r();m=q('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){p||d(r());j()}).attr("src",p||"javascript:0").insertAfter("body")[0].contentWindow;s.onpropertychange=function(){try{if(event.propertyName==="title"){m.document.title=s.title}}catch(v){}}}};h.stop=b;c=function(){return r(m.location.href)};d=function(B,u){var z=m.document,A=q.fn[e].domain;if(B!==u){z.title=s.title;z.open();A&&z.write('<script>document.domain="'+A+'"<\/script>');z.close();m.location.hash=B}}}();return h}()})(jQuery,this);