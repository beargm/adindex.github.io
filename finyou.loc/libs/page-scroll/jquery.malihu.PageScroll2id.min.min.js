(function(O,J,F,N){var Q="mPageScroll2id",I="mPS2id",x=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id'],._ps2id",H={scrollSpeed:1000,autoScrollSpeed:true,scrollEasing:"easeInOutQuint",scrollingEasing:"easeOutQuint",pageEndSmoothScroll:true,layout:"vertical",offset:0,highlightSelector:false,clickedClass:I+"-clicked",targetClass:I+"-target",highlightClass:I+"-highlight",forceSingleHighlight:false,keepHighlightUntilNext:false,highlightByNextTarget:false,disablePluginBelow:false,clickEvents:true,appendHash:false,onStart:function(){},onComplete:function(){},defaultSelector:false,live:true,liveSelector:false,excludeSelectors:false,encodeLinks:false},B,R,K,T,A,L,D,C,E,z,S=0,P,M,y={init:function(a){var a=O.extend(true,{},H,a);O(F).data(I,a);R=O(F).data(I);if(!this.selector){var b="__"+I;this.each(function(){var c=O(this);if(!c.hasClass(b)){c.addClass(b)}});this.selector="."+b}if(R.liveSelector){this.selector+=","+R.liveSelector}B=(!B)?this.selector:B+","+this.selector;if(R.defaultSelector){if(typeof O(B)!=="object"||O(B).length===0){B=x}}if(R.clickEvents){O(F).undelegate("."+I).delegate(B,"click."+I,function(f){if(G._isDisabled.call(null)){G._removeClasses.call(null);return}var c=O(this),e=c.attr("href"),d=c.prop("href").baseVal||c.prop("href");if(R.excludeSelectors&&c.is(R.excludeSelectors)){return}if(e&&e.indexOf("#/")!==-1){return}G._reset.call(null);z=c.data("ps2id-offset")||0;if(G._isValid.call(null,e,d)&&G._findTarget.call(null,e)){f.preventDefault();T="selector";A=c;G._setClasses.call(null,true);G._scrollTo.call(null)}})}O(J).unbind("."+I).bind("scroll."+I+" resize."+I,function(){if(G._isDisabled.call(null)){G._removeClasses.call(null);return}var c=O("._"+I+"-t");c.each(function(g){var d=O(this),e=d.attr("id"),f=G._findHighlight.call(null,e);G._setClasses.call(null,false,d,f);if(g==c.length-1){G._extendClasses.call(null)}})});K=true;G._setup.call(null);G._live.call(null)},scrollTo:function(b,a){if(G._isDisabled.call(null)){G._removeClasses.call(null);return}if(b&&typeof b!=="undefined"){G._isInit.call(null);var c={layout:R.layout,offset:R.offset,clicked:false},a=O.extend(true,{},c,a);G._reset.call(null);C=a.layout;E=a.offset;b=(b.indexOf("#")!==-1)?b:"#"+b;if(G._isValid.call(null,b)&&G._findTarget.call(null,b)){T="scrollTo";A=a.clicked;if(A){G._setClasses.call(null,true)}G._scrollTo.call(null)}}},destroy:function(){O(J).unbind("."+I);O(F).undelegate("."+I).removeData(I);O("._"+I+"-t").removeData(I);G._removeClasses.call(null,true)}},G={_isDisabled:function(){var c=J,a="inner",b=R.disablePluginBelow instanceof Array?[R.disablePluginBelow[0]||0,R.disablePluginBelow[1]||0]:[R.disablePluginBelow||0,0];if(!("innerWidth" in J)){a="client";c=F.documentElement||F.body}return c[a+"Width"]<=b[0]||c[a+"Height"]<=b[1]},_isValid:function(b,a){if(!b){return}a=(!a)?b:a;var c=(a.indexOf("#/")!==-1)?a.split("#/")[0]:a.split("#")[0],d=J.location.toString().split("#")[0];return b!=="#"&&b.indexOf("#")!==-1&&(c===""||decodeURIComponent(c)===decodeURIComponent(d))},_setup:function(){var c=G._highlightSelector(),a=1,b=0;return O(c).each(function(){var g=O(this),d=g.attr("href"),e=g.prop("href").baseVal||g.prop("href");if(G._isValid.call(null,d,e)){if(R.excludeSelectors&&g.is(R.excludeSelectors)){return}var f=(d.indexOf("#/")!==-1)?d.split("#/")[1]:d.split("#")[1],i=f.indexOf("%")!==-1?O(F.getElementById(f)):O("#"+f);if(i.length>0){if(R.highlightByNextTarget){if(i!==b){if(!b){i.data(I,{tn:"0"})}else{b.data(I,{tn:i})}b=i}}if(!i.hasClass("_"+I+"-t")){i.addClass("_"+I+"-t")}i.data(I,{i:a});if(!g.hasClass("_"+I+"-h")){g.addClass("_"+I+"-h")}var h=G._findHighlight.call(null,f);G._setClasses.call(null,false,i,h);S=a;a++;if(a==O(c).length){G._extendClasses.call(null)}}}})},_highlightSelector:function(){return(R.highlightSelector&&R.highlightSelector!=="")?R.highlightSelector:B},_findTarget:function(b){var c=(b.indexOf("#/")!==-1)?b.split("#/")[1]:b.split("#")[1],a=c.indexOf("%")!==-1?O(F.getElementById(c)):O("#"+c);if(a.length<1||a.css("position")==="fixed"){if(c==="top"){a=O("body")}else{return}}L=a;if(!C){C=R.layout}E=G._setOffset.call(null);D=[(a.offset().top-E[0]).toString(),(a.offset().left-E[1]).toString()];D[0]=(D[0]<0)?0:D[0];D[1]=(D[1]<0)?0:D[1];return D},_setOffset:function(){if(!E){E=(R.offset)?R.offset:0}if(z){E=z}var d,a,c,b;switch(typeof E){case"object":case"string":d=[(E.y)?E.y:E,(E.x)?E.x:E];a=[(d[0] instanceof jQuery)?d[0]:O(d[0]),(d[1] instanceof jQuery)?d[1]:O(d[1])];if(a[0].length>0){c=a[0].height();if(a[0].css("position")==="fixed"){c+=a[0][0].offsetTop}}else{if(!isNaN(parseFloat(d[0]))&&isFinite(d[0])){c=parseInt(d[0])}else{c=0}}if(a[1].length>0){b=a[1].width();if(a[1].css("position")==="fixed"){b+=a[1][0].offsetLeft}}else{if(!isNaN(parseFloat(d[1]))&&isFinite(d[1])){b=parseInt(d[1])}else{b=0}}break;case"function":d=E.call(null);if(d instanceof Array){c=d[0];b=d[1]}else{c=b=d}break;default:c=b=parseInt(E)}return[c,b]},_findHighlight:function(d){var b=J.location,f=b.toString().split("#")[0],c=b.pathname;if(f.indexOf("'")!==-1){f=f.replace("'","\\'")}if(c.indexOf("'")!==-1){c=c.replace("'","\\'")}f=decodeURIComponent(f);c=decodeURIComponent(c);if(R.encodeLinks){var a=encodeURI(f).toLowerCase(),e=encodeURI(c).toLowerCase();return O("._"+I+"-h[href='#"+d+"'],._"+I+"-h[href='"+f+"#"+d+"'],._"+I+"-h[href='"+c+"#"+d+"'],._"+I+"-h[href='#/"+d+"'],._"+I+"-h[href='"+f+"#/"+d+"'],._"+I+"-h[href='"+c+"#/"+d+"'],._"+I+"-h[href='"+a+"#/"+d+"'],._"+I+"-h[href='"+a+"#"+d+"'],._"+I+"-h[href='"+e+"#/"+d+"'],._"+I+"-h[href='"+e+"#"+d+"']")}else{return O("._"+I+"-h[href='#"+d+"'],._"+I+"-h[href='"+f+"#"+d+"'],._"+I+"-h[href='"+c+"#"+d+"'],._"+I+"-h[href='#/"+d+"'],._"+I+"-h[href='"+f+"#/"+d+"'],._"+I+"-h[href='"+c+"#/"+d+"']")}},_setClasses:function(d,f,c){var e=R.clickedClass,b=R.targetClass,a=R.highlightClass;if(d&&e&&e!==""){O("."+e).removeClass(e);A.addClass(e)}else{if(f&&b&&b!==""&&c&&a&&a!==""){if(G._currentTarget.call(null,f)){f.addClass(b);c.addClass(a)}else{if(!R.keepHighlightUntilNext||O("."+a).length>1){f.removeClass(b);c.removeClass(a)}}}}},_extendClasses:function(){var b=R.targetClass,f=R.highlightClass,c=O("."+b),h=O("."+f),d=b+"-first",a=b+"-last",e=f+"-first",g=f+"-last";O("._"+I+"-t").removeClass(d+" "+a);O("._"+I+"-h").removeClass(e+" "+g);if(!R.forceSingleHighlight){c.slice(0,1).addClass(d).end().slice(-1).addClass(a);h.slice(0,1).addClass(e).end().slice(-1).addClass(g)}else{if(R.keepHighlightUntilNext&&c.length>1){c.slice(0,1).removeClass(b);h.slice(0,1).removeClass(f)}else{c.slice(1).removeClass(b);h.slice(1).removeClass(f)}}},_removeClasses:function(a){O("."+R.clickedClass).removeClass(R.clickedClass);O("."+R.targetClass).removeClass(R.targetClass+" "+R.targetClass+"-first "+R.targetClass+"-last");O("."+R.highlightClass).removeClass(R.highlightClass+" "+R.highlightClass+"-first "+R.highlightClass+"-last");if(a){O("._"+I+"-t").removeClass("_"+I+"-t");O("._"+I+"-h").removeClass("_"+I+"-h")}},_currentTarget:function(i){var f=R["target_"+i.data(I).i],s=i.data("ps2id-target"),v=s&&O(s)[0]?O(s)[0].getBoundingClientRect():i[0].getBoundingClientRect();if(typeof f!=="undefined"){var k=i.offset().top,j=i.offset().left,e=(f.from)?f.from+k:k,u=(f.to)?f.to+k:k,h=(f.fromX)?f.fromX+j:j,w=(f.toX)?f.toX+j:j;return(v.top>=u&&v.top<=e&&v.left>=w&&v.left<=h)}else{var n=O(J).height(),b=O(J).width(),p=s?O(s).height():i.height(),c=s?O(s).width():i.width(),q=1+(p/n),g=q,m=(p<n)?q*(n/p):q,l=1+(c/b),r=l,d=(c<b)?l*(b/c):l,a=[v.top<=n/g,v.bottom>=n/m,v.left<=b/r,v.right>=b/d];if(R.highlightByNextTarget){var t=i.data(I).tn;if(t){var o=t[0].getBoundingClientRect();if(R.layout==="vertical"){a=[v.top<=n/2,o.top>n/2,1,1]}else{if(R.layout==="horizontal"){a=[1,1,v.left<=b/2,o.left>b/2]}}}}return(a[0]&&a[1]&&a[2]&&a[3])}},_scrollTo:function(){M=G._scrollSpeed.call(null);D=(R.pageEndSmoothScroll)?G._pageEndSmoothScroll.call(null):D;var b=O("html,body"),a=(R.autoScrollSpeed)?G._autoScrollSpeed.call(null):M,d=(b.is(":animated"))?R.scrollingEasing:R.scrollEasing,c=O(J).scrollTop(),f=O(J).scrollLeft();switch(C){case"horizontal":if(f!=D[1]){G._callbacks.call(null,"onStart");b.stop().animate({scrollLeft:D[1]},a,d).promise().then(function(){G._callbacks.call(null,"onComplete")})}break;case"auto":if(c!=D[0]||f!=D[1]){G._callbacks.call(null,"onStart");if(navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var e;b.stop().animate({pageYOffset:D[0],pageXOffset:D[1]},{duration:a,easing:d,step:function(h,g){if(g.prop=="pageXOffset"){e=h}else{if(g.prop=="pageYOffset"){J.scrollTo(e,h)}}}}).promise().then(function(){G._callbacks.call(null,"onComplete")})}else{b.stop().animate({scrollTop:D[0],scrollLeft:D[1]},a,d).promise().then(function(){G._callbacks.call(null,"onComplete")})}}break;default:if(c!=D[0]){G._callbacks.call(null,"onStart");b.stop().animate({scrollTop:D[0]},a,d).promise().then(function(){G._callbacks.call(null,"onComplete")})}}},_pageEndSmoothScroll:function(){var b=O(F).height(),a=O(F).width(),c=O(J).height(),d=O(J).width();return[((b-D[0])<c)?b-c:D[0],((a-D[1])<d)?a-d:D[1]]},_scrollSpeed:function(){var a=R.scrollSpeed;if(A&&A.length){A.add(A.parent()).each(function(){var b=O(this);if(b.attr("class")){var c=b.attr("class").split(" ");for(var d in c){if(String(c[d]).match(/^ps2id-speed-\d+$/)){a=c[d].split("ps2id-speed-")[1];break}}}})}return parseInt(a)},_autoScrollSpeed:function(){var c=O(J).scrollTop(),e=O(J).scrollLeft(),b=O(F).height(),a=O(F).width(),d=[M+((M*(Math.floor((Math.abs(D[0]-c)/b)*100)))/100),M+((M*(Math.floor((Math.abs(D[1]-e)/a)*100)))/100)];return Math.max.apply(Math,d)},_callbacks:function(b){if(!R){return}this[I]={trigger:T,clicked:A,target:L,scrollTo:{y:D[0],x:D[1]}};switch(b){case"onStart":if(R.appendHash&&J.history&&J.history.pushState&&A&&A.length){var a="#"+A.attr("href").split("#")[1];if(a!==J.location.hash){history.pushState("","",a)}}R.onStart.call(null,this[I]);break;case"onComplete":R.onComplete.call(null,this[I]);break}},_reset:function(){C=E=z=false},_isInit:function(){if(!K){y.init.apply(this)}},_live:function(){P=setTimeout(function(){if(R.live){if(O(G._highlightSelector()).length!==S){G._setup.call(null)}}else{if(P){clearTimeout(P)}}G._live.call(null)},1000)},_easing:function(){O.easing.easeInQuad=O.easing.easeInQuad||function(b){return b*b};O.easing.easeOutQuad=O.easing.easeOutQuad||function(b){return 1-(1-b)*(1-b)};O.easing.easeInOutQuad=O.easing.easeInOutQuad||function(b){return b<0.5?2*b*b:1-Math.pow(-2*b+2,2)/2};O.easing.easeInCubic=O.easing.easeInCubic||function(b){return b*b*b};O.easing.easeOutCubic=O.easing.easeOutCubic||function(b){return 1-Math.pow(1-b,3)};O.easing.easeInOutCubic=O.easing.easeInOutCubic||function(b){return b<0.5?4*b*b*b:1-Math.pow(-2*b+2,3)/2};O.easing.easeInQuart=O.easing.easeInQuart||function(b){return b*b*b*b};O.easing.easeOutQuart=O.easing.easeOutQuart||function(b){return 1-Math.pow(1-b,4)};O.easing.easeInOutQuart=O.easing.easeInOutQuart||function(b){return b<0.5?8*b*b*b*b:1-Math.pow(-2*b+2,4)/2};O.easing.easeInQuint=O.easing.easeInQuint||function(b){return b*b*b*b*b};O.easing.easeOutQuint=O.easing.easeOutQuint||function(b){return 1-Math.pow(1-b,5)};O.easing.easeInOutQuint=O.easing.easeInOutQuint||function(b){return b<0.5?16*b*b*b*b*b:1-Math.pow(-2*b+2,5)/2};O.easing.easeInExpo=O.easing.easeInExpo||function(b){return b===0?0:Math.pow(2,10*b-10)};O.easing.easeOutExpo=O.easing.easeOutExpo||function(b){return b===1?1:1-Math.pow(2,-10*b)};O.easing.easeInOutExpo=O.easing.easeInOutExpo||function(b){return b===0?0:b===1?1:b<0.5?Math.pow(2,20*b-10)/2:(2-Math.pow(2,-20*b+10))/2};O.easing.easeInSine=O.easing.easeInSine||function(b){return 1-Math.cos(b*Math.PI/2)};O.easing.easeOutSine=O.easing.easeOutSine||function(b){return Math.sin(b*Math.PI/2)};O.easing.easeInOutSine=O.easing.easeInOutSine||function(b){return -(Math.cos(Math.PI*b)-1)/2};O.easing.easeInCirc=O.easing.easeInCirc||function(b){return 1-Math.sqrt(1-Math.pow(b,2))};O.easing.easeOutCirc=O.easing.easeOutCirc||function(b){return Math.sqrt(1-Math.pow(b-1,2))};O.easing.easeInOutCirc=O.easing.easeInOutCirc||function(b){return b<0.5?(1-Math.sqrt(1-Math.pow(2*b,2)))/2:(Math.sqrt(1-Math.pow(-2*b+2,2))+1)/2};O.easing.easeInElastic=O.easing.easeInElastic||function(b){return b===0?0:b===1?1:-Math.pow(2,10*b-10)*Math.sin((b*10-10.75)*((2*Math.PI)/3))};O.easing.easeOutElastic=O.easing.easeOutElastic||function(b){return b===0?0:b===1?1:Math.pow(2,-10*b)*Math.sin((b*10-0.75)*((2*Math.PI)/3))+1};O.easing.easeInOutElastic=O.easing.easeInOutElastic||function(b){return b===0?0:b===1?1:b<0.5?-(Math.pow(2,20*b-10)*Math.sin((20*b-11.125)*((2*Math.PI)/4.5)))/2:Math.pow(2,-20*b+10)*Math.sin((20*b-11.125)*((2*Math.PI)/4.5))/2+1};O.easing.easeInBack=O.easing.easeInBack||function(b){return(1.70158+1)*b*b*b-1.70158*b*b};O.easing.easeOutBack=O.easing.easeOutBack||function(b){return 1+(1.70158+1)*Math.pow(b-1,3)+1.70158*Math.pow(b-1,2)};O.easing.easeInOutBack=O.easing.easeInOutBack||function(b){return b<0.5?(Math.pow(2*b,2)*(((1.70158*1.525)+1)*2*b-(1.70158*1.525)))/2:(Math.pow(2*b-2,2)*(((1.70158*1.525)+1)*(b*2-2)+(1.70158*1.525))+2)/2};O.easing.easeInBounce=O.easing.easeInBounce||function(b){return 1-a(1-b)};O.easing.easeOutBounce=O.easing.easeOutBounce||a;O.easing.easeInOutBounce=O.easing.easeInOutBounce||function(b){return b<0.5?(1-a(1-2*b))/2:(1+a(2*b-1))/2};function a(d){var c=7.5625,b=2.75;if(d<1/b){return c*d*d}else{if(d<2/b){return c*(d-=(1.5/b))*d+0.75}else{if(d<2.5/b){return c*(d-=(2.25/b))*d+0.9375}else{return c*(d-=(2.625/b))*d+0.984375}}}}}};G._easing.call();O.fn[Q]=function(a){if(y[a]){return y[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return y.init.apply(this,arguments)}else{O.error("Method "+a+" does not exist")}}};O[Q]=function(a){if(y[a]){return y[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return y.init.apply(this,arguments)}else{O.error("Method "+a+" does not exist")}}};O[Q].defaults=H})(jQuery,window,document);