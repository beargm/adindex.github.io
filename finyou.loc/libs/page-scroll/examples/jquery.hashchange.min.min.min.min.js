(function(g,k,b){function d(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var m="hashchange",c=document,l,p=g.event.special,j=c.documentMode,h="on"+m in k&&(j===b||j>7);g.fn[m]=function(a){return a?this.bind(m,a):this.trigger(m)};g.fn[m].delay=50;p[m]=g.extend(p[m],{setup:function(){if(h){return false}g(l.start)},teardown:function(){if(h){return false}g(l.stop)}});l=function(){function e(){var s=d(),t=i(f);if(s!==f){r(f=s,t);g(k).trigger(m)}else{if(t!==f){location.href=location.href.replace(/#.*/,"")+t}}o=setTimeout(e,g.fn[m].delay)}var q={},o,f=d(),a=function(s){return s},r=a,i=a;q.start=function(){o||e()};q.stop=function(){o&&clearTimeout(o);o=b};var n=function(){var v,t=3,s=document.createElement("div"),u=s.getElementsByTagName("i");while(s.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",u[0]){}return t>4?t:v}();n&&!h&&function(){var t,s;q.start=function(){if(!t){s=g.fn[m].src;s=s&&s+d();t=g('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){s||r(d());e()}).attr("src",s||"javascript:0").insertAfter("body")[0].contentWindow;c.onpropertychange=function(){try{if(event.propertyName==="title"){t.document.title=c.title}}catch(u){}}}};q.stop=a;i=function(){return d(t.location.href)};r=function(y,x){var w=t.document,v=g.fn[m].domain;if(y!==x){w.title=c.title;w.open();v&&w.write('<script>document.domain="'+v+'"<\/script>');w.close();t.location.hash=y}}}();return q}()})(jQuery,this);