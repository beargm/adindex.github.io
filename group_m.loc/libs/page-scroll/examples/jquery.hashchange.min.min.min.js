(function(n,e,r){function o(b){b=b||location.href;return"#"+b.replace(/^[^#]*#?(.*)$/,"$1")}var t="hashchange",q=document,a,s=n.event.special,f=q.documentMode,i="on"+t in e&&(f===r||f>7);n.fn[t]=function(b){return b?this.bind(t,b):this.trigger(t)};n.fn[t].delay=50;s[t]=n.extend(s[t],{setup:function(){if(i){return false}n(a.start)},teardown:function(){if(i){return false}n(a.stop)}});a=function(){function l(){var m=o(),p=j(k);if(m!==k){c(k=m,p);n(e).trigger(t)}else{if(p!==k){location.href=location.href.replace(/#.*/,"")+p}}g=setTimeout(l,n.fn[t].delay)}var d={},g,k=o(),b=function(m){return m},c=b,j=b;d.start=function(){g||l()};d.stop=function(){g&&clearTimeout(g);g=r};var h=function(){var p,x=3,m=document.createElement("div"),w=m.getElementsByTagName("i");while(m.innerHTML="<!--[if gt IE "+ ++x+"]><i></i><![endif]-->",w[0]){}return x>4?x:p}();h&&!i&&function(){var p,m;d.start=function(){if(!p){m=n.fn[t].src;m=m&&m+o();p=n('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){m||c(o());l()}).attr("src",m||"javascript:0").insertAfter("body")[0].contentWindow;q.onpropertychange=function(){try{if(event.propertyName==="title"){p.document.title=q.title}}catch(v){}}}};d.stop=b;j=function(){return o(p.location.href)};c=function(B,z){var u=p.document,A=n.fn[t].domain;if(B!==z){u.title=q.title;u.open();A&&u.write('<script>document.domain="'+A+'"<\/script>');u.close();p.location.hash=B}}}();return d}()})(jQuery,this);