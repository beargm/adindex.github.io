!function(f,o,c){var t,r,m,p,u,h,d,v,n,g,l,e,C="mPageScroll2id",a="mPS2id",i=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id'],._ps2id",I={scrollSpeed:1000,autoScrollSpeed:!0,scrollEasing:"easeInOutQuint",scrollingEasing:"easeOutQuint",pageEndSmoothScroll:!0,layout:"vertical",offset:0,highlightSelector:!1,clickedClass:a+"-clicked",targetClass:a+"-target",highlightClass:a+"-highlight",forceSingleHighlight:!1,keepHighlightUntilNext:!1,highlightByNextTarget:!1,disablePluginBelow:!1,clickEvents:!0,appendHash:!1,onStart:function(){},onComplete:function(){},defaultSelector:!1,live:!0,liveSelector:!1,excludeSelectors:!1,encodeLinks:!1},s=0,Q={init:function(b){var b=f.extend(!0,{},I,b);if(f(c).data(a,b),r=f(c).data(a),!this.selector){var j="__"+a;this.each(function(){var k=f(this);k.hasClass(j)||k.addClass(j)}),this.selector="."+j}r.liveSelector&&(this.selector+=","+r.liveSelector),t=t?t+","+this.selector:this.selector,r.defaultSelector&&("object"==typeof f(t)&&0!==f(t).length||(t=i)),r.clickEvents&&f(c).undelegate("."+a).delegate(t,"click."+a,function(w){if(R._isDisabled.call(null)){return void R._removeClasses.call(null)}var x=f(this),k=x.attr("href"),q=x.prop("href").baseVal||x.prop("href");r.excludeSelectors&&x.is(r.excludeSelectors)||k&&-1!==k.indexOf("#/")||(R._reset.call(null),g=x.data("ps2id-offset")||0,R._isValid.call(null,k,q)&&R._findTarget.call(null,k)&&(w.preventDefault(),p="selector",u=x,R._setClasses.call(null,!0),R._scrollTo.call(null)))}),f(o).unbind("."+a).bind("scroll."+a+" resize."+a,function(){if(R._isDisabled.call(null)){return void R._removeClasses.call(null)}var k=f("._"+a+"-t");k.each(function(x){var q=f(this),y=q.attr("id"),w=R._findHighlight.call(null,y);R._setClasses.call(null,!1,q,w),x==k.length-1&&R._extendClasses.call(null)})}),m=!0,R._setup.call(null),R._live.call(null)},scrollTo:function(j,k){if(R._isDisabled.call(null)){return void R._removeClasses.call(null)}if(j&&"undefined"!=typeof j){R._isInit.call(null);var b={layout:r.layout,offset:r.offset,clicked:!1},k=f.extend(!0,{},b,k);R._reset.call(null),v=k.layout,n=k.offset,j=-1!==j.indexOf("#")?j:"#"+j,R._isValid.call(null,j)&&R._findTarget.call(null,j)&&(p="scrollTo",u=k.clicked,u&&R._setClasses.call(null,!0),R._scrollTo.call(null))}},destroy:function(){f(o).unbind("."+a),f(c).undelegate("."+a).removeData(a),f("._"+a+"-t").removeData(a),R._removeClasses.call(null,!0)}},R={_isDisabled:function(){var k=o,j="inner",b=r.disablePluginBelow instanceof Array?[r.disablePluginBelow[0]||0,r.disablePluginBelow[1]||0]:[r.disablePluginBelow||0,0];return"innerWidth" in o||(j="client",k=c.documentElement||c.body),k[j+"Width"]<=b[0]||k[j+"Height"]<=b[1]},_isValid:function(j,k){if(j){k=k?k:j;var b=-1!==k.indexOf("#/")?k.split("#/")[0]:k.split("#")[0],q=o.location.toString().split("#")[0];return"#"!==j&&-1!==j.indexOf("#")&&(""===b||decodeURIComponent(b)===decodeURIComponent(q))}},_setup:function(){var b=R._highlightSelector(),j=1,k=0;return f(b).each(function(){var y=f(this),q=y.attr("href"),w=y.prop("href").baseVal||y.prop("href");if(R._isValid.call(null,q,w)){if(r.excludeSelectors&&y.is(r.excludeSelectors)){return}var A=-1!==q.indexOf("#/")?q.split("#/")[1]:q.split("#")[1],z=f(-1!==A.indexOf("%")?c.getElementById(A):"#"+A);if(z.length>0){r.highlightByNextTarget&&z!==k&&(k?k.data(a,{tn:z}):z.data(a,{tn:"0"}),k=z),z.hasClass("_"+a+"-t")||z.addClass("_"+a+"-t"),z.data(a,{i:j}),y.hasClass("_"+a+"-h")||y.addClass("_"+a+"-h");var x=R._findHighlight.call(null,A);R._setClasses.call(null,!1,z,x),s=j,j++,j==f(b).length&&R._extendClasses.call(null)}}})},_highlightSelector:function(){return r.highlightSelector&&""!==r.highlightSelector?r.highlightSelector:t},_findTarget:function(b){var j=-1!==b.indexOf("#/")?b.split("#/")[1]:b.split("#")[1],k=f(-1!==j.indexOf("%")?c.getElementById(j):"#"+j);if(k.length<1||"fixed"===k.css("position")){if("top"!==j){return}k=f("body")}return h=k,v||(v=r.layout),n=R._setOffset.call(null),d=[(k.offset().top-n[0]).toString(),(k.offset().left-n[1]).toString()],d[0]=d[0]<0?0:d[0],d[1]=d[1]<0?0:d[1],d},_setOffset:function(){n||(n=r.offset?r.offset:0),g&&(n=g);var k,q,b,j;switch(typeof n){case"object":case"string":k=[n.y?n.y:n,n.x?n.x:n],q=[k[0] instanceof jQuery?k[0]:f(k[0]),k[1] instanceof jQuery?k[1]:f(k[1])],q[0].length>0?(b=q[0].height(),"fixed"===q[0].css("position")&&(b+=q[0][0].offsetTop)):b=!isNaN(parseFloat(k[0]))&&isFinite(k[0])?parseInt(k[0]):0,q[1].length>0?(j=q[1].width(),"fixed"===q[1].css("position")&&(j+=q[1][0].offsetLeft)):j=!isNaN(parseFloat(k[1]))&&isFinite(k[1])?parseInt(k[1]):0;break;case"function":k=n.call(null),k instanceof Array?(b=k[0],j=k[1]):b=j=k;break;default:b=j=parseInt(n)}return[b,j]},_findHighlight:function(x){var b=o.location,q=b.toString().split("#")[0],w=b.pathname;if(-1!==q.indexOf("'")&&(q=q.replace("'","\\'")),-1!==w.indexOf("'")&&(w=w.replace("'","\\'")),q=decodeURIComponent(q),w=decodeURIComponent(w),r.encodeLinks){var j=encodeURI(q).toLowerCase(),k=encodeURI(w).toLowerCase();return f("._"+a+"-h[href='#"+x+"'],._"+a+"-h[href='"+q+"#"+x+"'],._"+a+"-h[href='"+w+"#"+x+"'],._"+a+"-h[href='#/"+x+"'],._"+a+"-h[href='"+q+"#/"+x+"'],._"+a+"-h[href='"+w+"#/"+x+"'],._"+a+"-h[href='"+j+"#/"+x+"'],._"+a+"-h[href='"+j+"#"+x+"'],._"+a+"-h[href='"+k+"#/"+x+"'],._"+a+"-h[href='"+k+"#"+x+"']")}return f("._"+a+"-h[href='#"+x+"'],._"+a+"-h[href='"+q+"#"+x+"'],._"+a+"-h[href='"+w+"#"+x+"'],._"+a+"-h[href='#/"+x+"'],._"+a+"-h[href='"+q+"#/"+x+"'],._"+a+"-h[href='"+w+"#/"+x+"']")},_setClasses:function(q,x,b){var k=r.clickedClass,w=r.targetClass,j=r.highlightClass;q&&k&&""!==k?(f("."+k).removeClass(k),u.addClass(k)):x&&w&&""!==w&&b&&j&&""!==j&&(R._currentTarget.call(null,x)?(x.addClass(w),b.addClass(j)):(!r.keepHighlightUntilNext||f("."+j).length>1)&&(x.removeClass(w),b.removeClass(j)))},_extendClasses:function(){var w=r.targetClass,z=r.highlightClass,y=f("."+w),q=f("."+z),x=w+"-first",j=w+"-last",k=z+"-first",b=z+"-last";f("._"+a+"-t").removeClass(x+" "+j),f("._"+a+"-h").removeClass(k+" "+b),r.forceSingleHighlight?r.keepHighlightUntilNext&&y.length>1?(y.slice(0,1).removeClass(w),q.slice(0,1).removeClass(z)):(y.slice(1).removeClass(w),q.slice(1).removeClass(z)):(y.slice(0,1).addClass(x).end().slice(-1).addClass(j),q.slice(0,1).addClass(k).end().slice(-1).addClass(b))},_removeClasses:function(b){f("."+r.clickedClass).removeClass(r.clickedClass),f("."+r.targetClass).removeClass(r.targetClass+" "+r.targetClass+"-first "+r.targetClass+"-last"),f("."+r.highlightClass).removeClass(r.highlightClass+" "+r.highlightClass+"-first "+r.highlightClass+"-last"),b&&(f("._"+a+"-t").removeClass("_"+a+"-t"),f("._"+a+"-h").removeClass("_"+a+"-h"))},_currentTarget:function(E){var P=r["target_"+E.data(a).i],q=E.data("ps2id-target"),N=q&&f(q)[0]?f(q)[0].getBoundingClientRect():E[0].getBoundingClientRect();if("undefined"!=typeof P){var S=E.offset().top,j=E.offset().left,G=P.from?P.from+S:S,w=P.to?P.to+S:S,M=P.fromX?P.fromX+j:j,J=P.toX?P.toX+j:j;return N.top>=w&&N.top<=G&&N.left>=J&&N.left<=M}var L=f(o).height(),H=f(o).width(),b=q?f(q).height():E.height(),k=q?f(q).width():E.width(),x=1+b/L,O=x,z=L>b?x*(L/b):x,K=1+k/H,D=K,B=H>k?K*(H/k):K,F=[N.top<=L/O,N.bottom>=L/z,N.left<=H/D,N.right>=H/B];if(r.highlightByNextTarget){var A=E.data(a).tn;if(A){var y=A[0].getBoundingClientRect();"vertical"===r.layout?F=[N.top<=L/2,y.top>L/2,1,1]:"horizontal"===r.layout&&(F=[1,1,N.left<=H/2,y.left>H/2])}}return F[0]&&F[1]&&F[2]&&F[3]},_scrollTo:function(){e=R._scrollSpeed.call(null),d=r.pageEndSmoothScroll?R._pageEndSmoothScroll.call(null):d;var x=f("html,body"),b=r.autoScrollSpeed?R._autoScrollSpeed.call(null):e,q=x.is(":animated")?r.scrollingEasing:r.scrollEasing,w=f(o).scrollTop(),j=f(o).scrollLeft();switch(v){case"horizontal":j!=d[1]&&(R._callbacks.call(null,"onStart"),x.stop().animate({scrollLeft:d[1]},b,q).promise().then(function(){R._callbacks.call(null,"onComplete")}));break;case"auto":if(w!=d[0]||j!=d[1]){if(R._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var k;x.stop().animate({pageYOffset:d[0],pageXOffset:d[1]},{duration:b,easing:q,step:function(y,z){"pageXOffset"==z.prop?k=y:"pageYOffset"==z.prop&&o.scrollTo(k,y)}}).promise().then(function(){R._callbacks.call(null,"onComplete")})}else{x.stop().animate({scrollTop:d[0],scrollLeft:d[1]},b,q).promise().then(function(){R._callbacks.call(null,"onComplete")})}}break;default:w!=d[0]&&(R._callbacks.call(null,"onStart"),x.stop().animate({scrollTop:d[0]},b,q).promise().then(function(){R._callbacks.call(null,"onComplete")}))}},_pageEndSmoothScroll:function(){var j=f(c).height(),b=f(c).width(),k=f(o).height(),q=f(o).width();return[j-d[0]<k?j-k:d[0],b-d[1]<q?b-q:d[1]]},_scrollSpeed:function(){var b=r.scrollSpeed;return u&&u.length&&u.add(u.parent()).each(function(){var k=f(this);if(k.attr("class")){var j=k.attr("class").split(" ");for(var q in j){if(String(j[q]).match(/^ps2id-speed-\d+$/)){b=j[q].split("ps2id-speed-")[1];break}}}}),parseInt(b)},_autoScrollSpeed:function(){var j=f(o).scrollTop(),b=f(o).scrollLeft(),q=f(c).height(),w=f(c).width(),k=[e+e*Math.floor(Math.abs(d[0]-j)/q*100)/100,e+e*Math.floor(Math.abs(d[1]-b)/w*100)/100];return Math.max.apply(Math,k)},_callbacks:function(b){if(r){switch(this[a]={trigger:p,clicked:u,target:h,scrollTo:{y:d[0],x:d[1]}},b){case"onStart":if(r.appendHash&&o.history&&o.history.pushState&&u&&u.length){var j="#"+u.attr("href").split("#")[1];j!==o.location.hash&&history.pushState("","",j)}r.onStart.call(null,this[a]);break;case"onComplete":r.onComplete.call(null,this[a])}}},_reset:function(){v=n=g=!1},_isInit:function(){m||Q.init.apply(this)},_live:function(){l=setTimeout(function(){r.live?f(R._highlightSelector()).length!==s&&R._setup.call(null):l&&clearTimeout(l),R._live.call(null)},1000)},_easing:function(){function b(j){var k=7.5625,q=2.75;return 1/q>j?k*j*j:2/q>j?k*(j-=1.5/q)*j+0.75:2.5/q>j?k*(j-=2.25/q)*j+0.9375:k*(j-=2.625/q)*j+0.984375}f.easing.easeInQuad=f.easing.easeInQuad||function(j){return j*j},f.easing.easeOutQuad=f.easing.easeOutQuad||function(j){return 1-(1-j)*(1-j)},f.easing.easeInOutQuad=f.easing.easeInOutQuad||function(j){return 0.5>j?2*j*j:1-Math.pow(-2*j+2,2)/2},f.easing.easeInCubic=f.easing.easeInCubic||function(j){return j*j*j},f.easing.easeOutCubic=f.easing.easeOutCubic||function(j){return 1-Math.pow(1-j,3)},f.easing.easeInOutCubic=f.easing.easeInOutCubic||function(j){return 0.5>j?4*j*j*j:1-Math.pow(-2*j+2,3)/2},f.easing.easeInQuart=f.easing.easeInQuart||function(j){return j*j*j*j},f.easing.easeOutQuart=f.easing.easeOutQuart||function(j){return 1-Math.pow(1-j,4)},f.easing.easeInOutQuart=f.easing.easeInOutQuart||function(j){return 0.5>j?8*j*j*j*j:1-Math.pow(-2*j+2,4)/2},f.easing.easeInQuint=f.easing.easeInQuint||function(j){return j*j*j*j*j},f.easing.easeOutQuint=f.easing.easeOutQuint||function(j){return 1-Math.pow(1-j,5)},f.easing.easeInOutQuint=f.easing.easeInOutQuint||function(j){return 0.5>j?16*j*j*j*j*j:1-Math.pow(-2*j+2,5)/2},f.easing.easeInExpo=f.easing.easeInExpo||function(j){return 0===j?0:Math.pow(2,10*j-10)},f.easing.easeOutExpo=f.easing.easeOutExpo||function(j){return 1===j?1:1-Math.pow(2,-10*j)},f.easing.easeInOutExpo=f.easing.easeInOutExpo||function(j){return 0===j?0:1===j?1:0.5>j?Math.pow(2,20*j-10)/2:(2-Math.pow(2,-20*j+10))/2},f.easing.easeInSine=f.easing.easeInSine||function(j){return 1-Math.cos(j*Math.PI/2)},f.easing.easeOutSine=f.easing.easeOutSine||function(j){return Math.sin(j*Math.PI/2)},f.easing.easeInOutSine=f.easing.easeInOutSine||function(j){return -(Math.cos(Math.PI*j)-1)/2},f.easing.easeInCirc=f.easing.easeInCirc||function(j){return 1-Math.sqrt(1-Math.pow(j,2))},f.easing.easeOutCirc=f.easing.easeOutCirc||function(j){return Math.sqrt(1-Math.pow(j-1,2))},f.easing.easeInOutCirc=f.easing.easeInOutCirc||function(j){return 0.5>j?(1-Math.sqrt(1-Math.pow(2*j,2)))/2:(Math.sqrt(1-Math.pow(-2*j+2,2))+1)/2},f.easing.easeInElastic=f.easing.easeInElastic||function(j){return 0===j?0:1===j?1:-Math.pow(2,10*j-10)*Math.sin((10*j-10.75)*(2*Math.PI/3))},f.easing.easeOutElastic=f.easing.easeOutElastic||function(j){return 0===j?0:1===j?1:Math.pow(2,-10*j)*Math.sin((10*j-0.75)*(2*Math.PI/3))+1},f.easing.easeInOutElastic=f.easing.easeInOutElastic||function(j){return 0===j?0:1===j?1:0.5>j?-(Math.pow(2,20*j-10)*Math.sin((20*j-11.125)*(2*Math.PI/4.5)))/2:Math.pow(2,-20*j+10)*Math.sin((20*j-11.125)*(2*Math.PI/4.5))/2+1},f.easing.easeInBack=f.easing.easeInBack||function(j){return 2.70158*j*j*j-1.70158*j*j},f.easing.easeOutBack=f.easing.easeOutBack||function(j){return 1+2.70158*Math.pow(j-1,3)+1.70158*Math.pow(j-1,2)},f.easing.easeInOutBack=f.easing.easeInOutBack||function(j){return 0.5>j?Math.pow(2*j,2)*(7.189819*j-2.5949095)/2:(Math.pow(2*j-2,2)*(3.5949095*(2*j-2)+2.5949095)+2)/2},f.easing.easeInBounce=f.easing.easeInBounce||function(j){return 1-b(1-j)},f.easing.easeOutBounce=f.easing.easeOutBounce||b,f.easing.easeInOutBounce=f.easing.easeInOutBounce||function(j){return 0.5>j?(1-b(1-2*j))/2:(1+b(2*j-1))/2}}};R._easing.call(),f.fn[C]=function(b){return Q[b]?Q[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void f.error("Method "+b+" does not exist"):Q.init.apply(this,arguments)},f[C]=function(b){return Q[b]?Q[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void f.error("Method "+b+" does not exist"):Q.init.apply(this,arguments)},f[C].defaults=I}(jQuery,window,document);