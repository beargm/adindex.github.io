(function(c,d){"function"===typeof define&&define.amd?define([],d):"object"===typeof module&&module.exports?module.exports=d():c.Rellax=d()})("undefined"!==typeof window?window:global,function(){var b=function(g,B){function v(){if(3===a.options.breakpoints.length&&Array.isArray(a.options.breakpoints)){var e=!0,c=!0,i;a.options.breakpoints.forEach(function(j){"number"!==typeof j&&(c=!1);null!==i&&j<i&&(e=!1);i=j});if(e&&c){return}}a.options.breakpoints=[576,768,1201];console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}var a=Object.create(b.prototype),l=0,D=0,m=0,n=0,d=[],F=!0,u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(c){return setTimeout(c,1000/60)},p=null,H=!1;try{var k=Object.defineProperty({},"passive",{get:function(){H=!0}});window.addEventListener("testPassive",null,k);window.removeEventListener("testPassive",null,k)}catch(f){}var w=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,A=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var c=["Webkit","Moz","ms"],i;for(i in c){if(void 0!==e.style[c[i]+"Transform"]){return c[i]+"Transform"}}}return"transform"}();a.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}};B&&Object.keys(B).forEach(function(c){a.options[c]=B[c]});B&&B.breakpoints&&v();g||(g=".rellax");k="string"===typeof g?document.querySelectorAll(g):[g];if(0<k.length){a.elems=k;if(a.options.wrapper&&!a.options.wrapper.nodeType){if(k=document.querySelector(a.options.wrapper)){a.options.wrapper=k}else{console.warn("Rellax: The wrapper you're trying to use doesn't exist.");return}}var C,x=function(){for(var P=0;P<d.length;P++){a.elems[P].style.cssText=d[P].style}d=[];D=window.innerHeight;n=window.innerWidth;P=a.options.breakpoints;C=n<P[0]?"xs":n>=P[0]&&n<P[1]?"sm":n>=P[1]&&n<P[2]?"md":"lg";G();for(P=0;P<a.elems.length;P++){var N=void 0,M=a.elems[P],O=M.getAttribute("data-rellax-percentage"),y=M.getAttribute("data-rellax-speed"),s=M.getAttribute("data-rellax-xs-speed"),R=M.getAttribute("data-rellax-mobile-speed"),S=M.getAttribute("data-rellax-tablet-speed"),T=M.getAttribute("data-rellax-desktop-speed"),U=M.getAttribute("data-rellax-vertical-speed"),V=M.getAttribute("data-rellax-horizontal-speed"),c=M.getAttribute("data-rellax-vertical-scroll-axis"),i=M.getAttribute("data-rellax-horizontal-scroll-axis"),z=M.getAttribute("data-rellax-zindex")||0,I=M.getAttribute("data-rellax-min"),e=M.getAttribute("data-rellax-max"),j=M.getAttribute("data-rellax-min-x"),q=M.getAttribute("data-rellax-max-x"),t=M.getAttribute("data-rellax-min-y"),Q=M.getAttribute("data-rellax-max-y"),o=!0;s||R||S||T?N={xs:s,sm:R,md:S,lg:T}:o=!1;s=a.options.wrapper?a.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;a.options.relativeToWrapper&&(s=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-a.options.wrapper.offsetTop);var L=a.options.vertical?O||a.options.center?s:0:0,r=a.options.horizontal?O||a.options.center?a.options.wrapper?a.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0:0;s=L+M.getBoundingClientRect().top;R=M.clientHeight||M.offsetHeight||M.scrollHeight;S=r+M.getBoundingClientRect().left;T=M.clientWidth||M.offsetWidth||M.scrollWidth;L=O?O:(L-s+D)/(R+D);O=O?O:(r-S+n)/(T+n);a.options.center&&(L=O=0.5);N=o&&null!==N[C]?Number(N[C]):y?y:a.options.speed;U=U?U:a.options.verticalSpeed;V=V?V:a.options.horizontalSpeed;c=c?c:a.options.verticalScrollAxis;i=i?i:a.options.horizontalScrollAxis;y=J(O,L,N,U,V);M=M.style.cssText;o="";if(O=/transform\s*:/i.exec(M)){o=M.slice(O.index),o=(O=o.indexOf(";"))?" "+o.slice(11,O).replace(/\s/g,""):" "+o.slice(11).replace(/\s/g,"")}d.push({baseX:y.x,baseY:y.y,top:s,left:S,height:R,width:T,speed:N,verticalSpeed:U,horizontalSpeed:V,verticalScrollAxis:c,horizontalScrollAxis:i,style:M,transform:o,zindex:z,min:I,max:e,minX:j,maxX:q,minY:t,maxY:Q})}K();F&&(window.addEventListener("resize",x),F=!1,E())},G=function(){var e=l,c=m;l=a.options.wrapper?a.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;m=a.options.wrapper?a.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset;a.options.relativeToWrapper&&(l=((document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset)-a.options.wrapper.offsetTop);return e!=l&&a.options.vertical||c!=m&&a.options.horizontal?!0:!1},J=function(q,o,j,c,i){var e={};q=100*(i?i:j)*(1-q);o=100*(c?c:j)*(1-o);e.x=a.options.round?Math.round(q):Math.round(100*q)/100;e.y=a.options.round?Math.round(o):Math.round(100*o)/100;return e},h=function(){window.removeEventListener("resize",h);window.removeEventListener("orientationchange",h);(a.options.wrapper?a.options.wrapper:window).removeEventListener("scroll",h);(a.options.wrapper?a.options.wrapper:document).removeEventListener("touchmove",h);p=u(E)},E=function(){G()&&!1===F?(K(),p=u(E)):(p=null,window.addEventListener("resize",h),window.addEventListener("orientationchange",h),(a.options.wrapper?a.options.wrapper:window).addEventListener("scroll",h,H?{passive:!0}:!1),(a.options.wrapper?a.options.wrapper:document).addEventListener("touchmove",h,H?{passive:!0}:!1))},K=function(){for(var i,c=0;c<a.elems.length;c++){var o=d[c].verticalScrollAxis.toLowerCase(),e=d[c].horizontalScrollAxis.toLowerCase();i=-1!=o.indexOf("x")?l:0;o=-1!=o.indexOf("y")?l:0;var j=-1!=e.indexOf("x")?m:0;e=-1!=e.indexOf("y")?m:0;i=J((i+j-d[c].left+n)/(d[c].width+n),(o+e-d[c].top+D)/(d[c].height+D),d[c].speed,d[c].verticalSpeed,d[c].horizontalSpeed);e=i.y-d[c].baseY;o=i.x-d[c].baseX;null!==d[c].min&&(a.options.vertical&&!a.options.horizontal&&(e=e<=d[c].min?d[c].min:e),a.options.horizontal&&!a.options.vertical&&(o=o<=d[c].min?d[c].min:o));null!=d[c].minY&&(e=e<=d[c].minY?d[c].minY:e);null!=d[c].minX&&(o=o<=d[c].minX?d[c].minX:o);null!==d[c].max&&(a.options.vertical&&!a.options.horizontal&&(e=e>=d[c].max?d[c].max:e),a.options.horizontal&&!a.options.vertical&&(o=o>=d[c].max?d[c].max:o));null!=d[c].maxY&&(e=e>=d[c].maxY?d[c].maxY:e);null!=d[c].maxX&&(o=o>=d[c].maxX?d[c].maxX:o);a.elems[c].style[A]="translate3d("+(a.options.horizontal?o:"0")+"px,"+(a.options.vertical?e:"0")+"px,"+d[c].zindex+"px) "+d[c].transform}a.options.callback(i)};a.destroy=function(){for(var c=0;c<a.elems.length;c++){a.elems[c].style.cssText=d[c].style}F||(window.removeEventListener("resize",x),F=!0);w(p);p=null};x();a.refresh=x;return a}console.warn("Rellax: The elements you're trying to select don't exist.")};return b});